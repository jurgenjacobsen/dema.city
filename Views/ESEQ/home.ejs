<%- include('header') %>

<body>
  <div class="homepage">
    <div class="container">
      <div class="header">
        <h1 class="title">
          
        </h1>
        <p class="about">
          Trabalhos escolares e projetos da turma 11ºM
        </p>
      </div>

      <div class="subjects" id="subjects">
        <h3 class="subjects-title">
          Matérias
        </h3>
        <div style="margin-top: -20px;">
          <% DATA.subjects.forEach((subject) => { %>
            <div class="subject">
              <span class="title">
                <%= subject.name %>
              </span>
              <a href="/subject/<%= subject.id %>" class="link">
                Ver mais
              </a>
            </div>
          <% }); %>
        </div>
      </div>
      <div class="students" id="students">
        <h3 class="students-title">
          Estudantes
        </h3>
        <p class="students-description">
          Aqui estão os estudantes registrados em projetos da plataforma.
        </p>
        <div style="margin-top: 45px;">
          <% DATA.students.forEach((student) => { %>
            <div class="student">
              <img class="avatar" src="<%= student.avatar && student.avatar.length > 1 ? student.avatar : 'https://www.bluebridgewindowcleaning.co.uk/wp-content/uploads/2016/04/default-avatar.png' %>" alt="<%= student.name ?? student.id %>" title="<%= student.name ?? student.id %>">
              <span class="name">
                <%= student.name.length >= 1 ? student.name : student.username.length >= 1 ? student.username : student.id %>
              </span>
              <span class="projects">
                <% let projects = DATA.projects.filter((project) => student.projects?.includes(project.id))?.length ?? 0; %>
                <%= projects > 1 || projects < 1 ? `${projects} projetos` : `${projects} projeto` %>
              </span>
            </div>
          <% }); %>
        </div>
      </div>
      <div class="about" id="about">
        <h3 class="about-title">
          Sobre
        </h3>
        <p class="about-description">
          Criado utilizando <span style="color: #5865F2;">Typescript</span>, <span style="color: #57F287;">Node.JS</span>, <span style="color: #ddc955;">EJS</span> e <span style="color: #EB459E;">SCSS</span>.
        </p>
      </div>	
    </div>
  </div>
</body>

<%- include('../Blocks/footer') %>